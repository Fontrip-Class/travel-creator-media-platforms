# 旅遊平台後端環境變數配置 v2.0
# 複製此文件為 .env 並根據您的環境進行配置

# =============================================================================
# 應用程式基本配置
# =============================================================================
APP_NAME="Travel Creator Media Platform"
APP_VERSION="2.0.0"
APP_ENV=development
APP_DEBUG=true
APP_URL=http://localhost:8000
APP_TIMEZONE=Asia/Taipei
APP_LOCALE=zh-TW

# =============================================================================
# 資料庫配置 (PostgreSQL)
# =============================================================================
DB_HOST=localhost
DB_PORT=5432
DB_NAME=travel_platform
DB_USERNAME=postgres
DB_PASSWORD=your_secure_password_here
DB_CHARSET=utf8

# 資料庫連接優化
DB_CONNECTION_TIMEOUT=30
DB_QUERY_TIMEOUT=60
DB_MAX_RETRIES=3
DB_RETRY_DELAY=1000

# =============================================================================
# JWT 認證配置
# =============================================================================
JWT_SECRET=your_super_secret_jwt_key_change_in_production
JWT_EXPIRATION=3600
JWT_REFRESH_EXPIRATION=86400
JWT_ALGORITHM=HS256

# =============================================================================
# 安全配置
# =============================================================================
PASSWORD_MIN_LENGTH=8
MAX_LOGIN_ATTEMPTS=5
LOCKOUT_DURATION=900
SESSION_TIMEOUT=3600

# 加密配置
ENCRYPTION_KEY=your_32_character_encryption_key_here
HASH_COST=12

# =============================================================================
# 文件上傳配置
# =============================================================================
UPLOAD_PATH=uploads/
UPLOAD_MAX_SIZE=10485760
ALLOWED_EXTENSIONS=jpg,jpeg,png,gif,webp,mp4,mov,avi,mp3,wav,pdf,doc,docx

# 圖片處理配置
IMAGE_QUALITY=80
THUMBNAIL_WIDTH=300
THUMBNAIL_HEIGHT=300
MAX_IMAGE_DIMENSIONS=4096

# 存儲配置
STORAGE_DRIVER=local
STORAGE_BUCKET=travel-platform-assets
STORAGE_REGION=ap-northeast-1

# =============================================================================
# 郵件配置
# =============================================================================
MAIL_DRIVER=smtp
MAIL_HOST=smtp.gmail.com
MAIL_PORT=587
MAIL_USERNAME=your_email@gmail.com
MAIL_PASSWORD=your_app_password
MAIL_ENCRYPTION=tls
MAIL_FROM_ADDRESS=noreply@travelplatform.com
MAIL_FROM_NAME="Travel Platform"

# 郵件模板配置
MAIL_TEMPLATE_PATH=resources/views/emails/
MAIL_QUEUE_ENABLED=false

# =============================================================================
# 快取配置
# =============================================================================
CACHE_DRIVER=file
CACHE_TTL=3600
CACHE_PREFIX=travel_
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DATABASE=0

# =============================================================================
# 速率限制配置
# =============================================================================
RATE_LIMIT_ENABLED=true
RATE_LIMIT_MAX_REQUESTS=100
RATE_LIMIT_WINDOW=3600
RATE_LIMIT_STORAGE=file

# =============================================================================
# 日誌配置
# =============================================================================
LOG_LEVEL=debug
LOG_CHANNEL=stack
LOG_DAYS=30
LOG_MAX_FILES=10

# 日誌路徑
LOG_PATH=logs/
LOG_ERROR_PATH=logs/errors/
LOG_ACCESS_PATH=logs/access/

# =============================================================================
# 第三方服務配置
# =============================================================================
# Google Maps API
GOOGLE_MAPS_API_KEY=your_google_maps_api_key_here

# AWS S3 (可選)
AWS_ACCESS_KEY_ID=your_aws_access_key
AWS_SECRET_ACCESS_KEY=your_aws_secret_key
AWS_DEFAULT_REGION=ap-northeast-1
AWS_BUCKET=travel-platform-assets

# 支付網關配置
PAYMENT_GATEWAY=stripe
STRIPE_PUBLIC_KEY=pk_test_your_stripe_public_key
STRIPE_SECRET_KEY=sk_test_your_stripe_secret_key
STRIPE_WEBHOOK_SECRET=whsec_your_webhook_secret

# 簡訊服務配置
SMS_DRIVER=twilio
TWILIO_ACCOUNT_SID=your_twilio_account_sid
TWILIO_AUTH_TOKEN=your_twilio_auth_token
TWILIO_PHONE_NUMBER=+1234567890

# =============================================================================
# 媒合算法配置
# =============================================================================
MATCHING_ALGORITHM=hybrid
MATCHING_WEIGHT_SKILLS=0.4
MATCHING_WEIGHT_LOCATION=0.3
MATCHING_WEIGHT_RATING=0.2
MATCHING_WEIGHT_EXPERIENCE=0.1

# 地理位置配置
LOCATION_SEARCH_RADIUS=50000
LOCATION_UNIT=meters

# =============================================================================
# 通知配置
# =============================================================================
NOTIFICATION_DRIVER=database
PUSH_NOTIFICATIONS_ENABLED=false
EMAIL_NOTIFICATIONS_ENABLED=true
SMS_NOTIFICATIONS_ENABLED=false

# 通知頻率限制
NOTIFICATION_RATE_LIMIT=10
NOTIFICATION_RATE_WINDOW=3600

# =============================================================================
# 任務配置
# =============================================================================
TASK_AUTO_EXPIRE_ENABLED=true
TASK_EXPIRE_DAYS=30
TASK_MAX_APPLICATIONS=50
TASK_MIN_BUDGET=100
TASK_MAX_BUDGET=1000000

# 任務推薦配置
TASK_RECOMMENDATION_LIMIT=10
TASK_RECOMMENDATION_CACHE_TTL=1800

# =============================================================================
# 用戶配置
# =============================================================================
USER_VERIFICATION_REQUIRED=true
USER_VERIFICATION_EXPIRES=86400
USER_MAX_AVATAR_SIZE=2097152
USER_DEFAULT_AVATAR=default-avatar.png

# 用戶評分配置
USER_RATING_MIN=1
USER_RATING_MAX=5
USER_RATING_DECIMALS=2

# =============================================================================
# 開發和測試配置
# =============================================================================
# 測試資料庫
TEST_DB_HOST=localhost
TEST_DB_PORT=5432
TEST_DB_NAME=travel_platform_test
TEST_DB_USERNAME=postgres
TEST_DB_PASSWORD=your_test_password

# 測試配置
TEST_MAIL_DRIVER=array
TEST_SMS_DRIVER=array
TEST_UPLOAD_DRIVER=local

# 除錯配置
DEBUG_BAR_ENABLED=false
DEBUG_QUERIES=false
DEBUG_SLOW_QUERIES=true
SLOW_QUERY_THRESHOLD=1000

# =============================================================================
# 性能優化配置
# =============================================================================
# 資料庫連接池
DB_POOL_SIZE=10
DB_POOL_MAX_IDLE_TIME=300

# 快取優化
CACHE_TAGS_ENABLED=true
CACHE_PREFIX_SEPARATOR=_
CACHE_DEFAULT_TTL=3600

# 會話配置
SESSION_DRIVER=file
SESSION_LIFETIME=120
SESSION_EXPIRE_ON_CLOSE=false
SESSION_SECURE_COOKIES=false

# =============================================================================
# 監控和健康檢查配置
# =============================================================================
HEALTH_CHECK_ENABLED=true
HEALTH_CHECK_INTERVAL=300
METRICS_ENABLED=false
METRICS_STORAGE=file

# 性能監控
APM_ENABLED=false
APM_SERVER_URL=
APM_APP_NAME=travel-platform-backend

# =============================================================================
# 備份配置
# =============================================================================
BACKUP_ENABLED=true
BACKUP_SCHEDULE=daily
BACKUP_RETENTION_DAYS=30
BACKUP_STORAGE=local
BACKUP_PATH=backups/

# =============================================================================
# 維護模式配置
# =============================================================================
MAINTENANCE_MODE=false
MAINTENANCE_MESSAGE="系統維護中，請稍後再試"
MAINTENANCE_ALLOWED_IPS=127.0.0.1,::1
